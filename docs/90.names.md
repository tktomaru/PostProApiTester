# 命名規則およびレイヤー定義文書：PostPro API Tester Chrome 拡張

## 1. 文書の目的
本ドキュメントは、PostPro API Tester Chrome 拡張機能のソースコードにおける一貫性のある命名規則とレイヤー分割の基準を定義し、保守性・可読性の向上を目的とします。

## 2. レイヤー分割
構造設計文書（docs/06.ss.md）で定義したレイヤー構成をプロジェクト標準として採用します。

### 2.1 プレゼンテーション層
- UIコンポーネントやイベントハンドリング、レンダリング処理などを担います。
- 主な責務:
  - 画面表示・DOM操作
  - ユーザー操作イベント処理

### 2.2 アプリケーション層
- ユースケースやアプリケーションフローの制御、状態管理を担います。
- 主な責務:
  - リクエスト実行フロー制御
  - コレクション・シナリオ・テスト実行管理
  - アプリケーション状態管理

### 2.3 ドメイン層
- コアビジネスロジックやドメインモデル、ドメインサービスを担います。
- 主な責務:
  - リクエスト管理、コレクション管理
  - 変数管理、シナリオ管理、履歴管理

### 2.4 インフラストラクチャ層
- 外部API連携やデータ永続化、システムサービスを担います。
- 主な責務:
  - Chrome Storage APIアダプター、キャッシュ管理
  - HTTPクライアント、メッセージハンドラー
  - ログサービス、エラーハンドリング、セキュリティ管理

### 2.5 共有（Shared）層
- 複数層から利用される共通ユーティリティ、型定義、定数を配置します。

## 3. ディレクトリ構成
各レイヤーを以下のディレクトリに分割し、コードを整理します。

```text
src/
├── presentation/    # プレゼンテーション層 (UI, イベント, レンダリング)
├── application/     # アプリケーション層 (ユースケース, フロー制御)
├── domain/          # ドメイン層 (ビジネスロジック, ドメインモデル)
├── infrastructure/  # インフラ層 (外部連携, 永続化, システムサービス)
├── shared/          # 共有層 (ユーティリティ, 型定義, 定数)
└── index.ts         # エントリポイント (必要に応じて)
```

## 4. 命名規則

### 4.1 ファイル・ディレクトリ名
- ファイル名: **camelCase** (例: `requestManager.ts`, `userService.spec.ts`)
- ディレクトリ名: **camelCase** (例: `presentation`, `shared`)
- テストファイル: 同名の `.spec.ts` サフィックスを付与 (例: `requestManager.spec.ts`)

### 4.2 クラス・インターフェース・型
- PascalCase を使用 (例: `RequestManager`, `FormDataField`, `ErrorData`)
- インターフェースに `I` プレフィックスは付与しない

### 4.3 関数・メソッド・変数
- camelCase を使用 (例: `initializeApp()`, `sendRequest()`)
- 非同期関数: `async function` を宣言し、名前に `Async` サフィックスは付与しない
- ブール変数は `is`/`has`/`should` などのプレフィックスを使用 (例: `isEnabled`, `hasErrors`)

### 4.4 定数・列挙型
- 定数: UPPER_SNAKE_CASE (例: `MAX_REQUEST_SIZE`, `DEFAULT_TIMEOUT`)
- enum 名は PascalCase、列挙子は UPPER_SNAKE_CASE (例: `ErrorCategory`, `REQUEST_ERROR`)

### 4.5 変数・設定キー・JSON プロパティ
- JSON キーや設定項目は camelCase を保持 (例: `responseTime`, `currentEnvironment`)

### 4.6 ドキュメントファイル
- ドキュメント (docs フォルダ内): 数字2桁 + `.` + 識別子 + `.md`
  (例: `01.sp.md`, `90.names.md`)

## 5. 適用範囲と運用
- 本命名規則およびレイヤー分割は、新規実装および既存コード修正時に適用してください
- 既存コードは段階的にリファクタリングし、本仕様に沿うようにしてください
- 本ドキュメントの更新は `docs/90.names.md` を編集し、レビュー後マージしてください